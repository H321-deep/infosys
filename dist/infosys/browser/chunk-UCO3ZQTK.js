import{b as N,c as k,d as V,e as W,f as D,g as T,m as A,n as z,o as F}from"./chunk-5PEZTGU7.js";import{$ as y,Ba as O,Ca as E,D as M,E as w,Fa as L,L as b,M as h,Q as c,R as n,S as t,U as P,V as S,W as x,_ as o,da as u,ea as f,fa as C,p,q as l,t as d,ua as v,z as s}from"./chunk-O52SWWMB.js";function q(r,a){if(r&1&&(n(0,"div",4),o(1),t()),r&2){let g=x();s(),y(g.error())}}function I(r,a){r&1&&(n(0,"div",5),o(1,"Account created successfully! Redirecting to login..."),t())}function j(r,a){r&1&&(n(0,"span"),o(1,"Creating account..."),t())}function B(r,a){r&1&&(n(0,"span"),o(1,"Sign Up"),t())}var R=class r{constructor(a,g,e){this.authService=a;this.apiService=g;this.router=e}name=d("");email=d("");password=d("");confirmPassword=d("");error=d("");success=d(!1);isLoading=d(!1);onSubmit(){if(this.error.set(""),this.success.set(!1),!this.name().trim()||!this.email().trim()||!this.password().trim()){this.error.set("Please fill in all fields");return}if(this.password()!==this.confirmPassword()){this.error.set("Passwords do not match");return}if(this.password().length<6){this.error.set("Password must be at least 6 characters");return}this.isLoading.set(!0),this.apiService.createUser(this.name().trim(),this.email().trim(),this.password(),"user").subscribe({next:a=>{this.success.set(!0),this.authService.signup(this.email(),this.password(),this.name()),setTimeout(()=>{this.router.navigate(["/login"])},2e3),this.isLoading.set(!1)},error:a=>{console.error("Create user error:",a),this.error.set(a.error?.message||"Failed to create account. Email or username may already exist."),this.isLoading.set(!1)}})}static \u0275fac=function(g){return new(g||r)(M(L),M(F),M(O))};static \u0275cmp=w({type:r,selectors:[["app-signup"]],decls:34,vars:12,consts:[["signupForm","ngForm"],[1,"signup-container"],[1,"signup-card"],[1,"subtitle"],[1,"error-message"],[1,"success-message"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Enter your full name",3,"ngModelChange","ngModel","disabled"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Enter your email",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Enter your password (min 6 characters)",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn-primary",3,"disabled"],[1,"login-link"],["routerLink","/login"]],template:function(g,e){if(g&1){let m=P();n(0,"div",1)(1,"div",2)(2,"h1"),o(3,"Sign Up"),t(),n(4,"p",3),o(5,"Create your account to get started."),t(),b(6,q,2,1,"div",4),b(7,I,2,0,"div",5),n(8,"form",6,0),S("ngSubmit",function(){return p(m),l(e.onSubmit())}),n(10,"div",7)(11,"label",8),o(12,"Full Name"),t(),n(13,"input",9),C("ngModelChange",function(i){return p(m),f(e.name,i)||(e.name=i),l(i)}),t()(),n(14,"div",7)(15,"label",10),o(16,"Email"),t(),n(17,"input",11),C("ngModelChange",function(i){return p(m),f(e.email,i)||(e.email=i),l(i)}),t()(),n(18,"div",7)(19,"label",12),o(20,"Password"),t(),n(21,"input",13),C("ngModelChange",function(i){return p(m),f(e.password,i)||(e.password=i),l(i)}),t()(),n(22,"div",7)(23,"label",14),o(24,"Confirm Password"),t(),n(25,"input",15),C("ngModelChange",function(i){return p(m),f(e.confirmPassword,i)||(e.confirmPassword=i),l(i)}),t()(),n(26,"button",16),b(27,j,2,0,"span")(28,B,2,0,"span"),t()(),n(29,"div",17)(30,"p"),o(31,"Already have an account? "),n(32,"a",18),o(33,"Login"),t()()()()()}g&2&&(s(6),h(e.error()?6:-1),s(),h(e.success()?7:-1),s(6),u("ngModel",e.name),c("disabled",e.isLoading()),s(4),u("ngModel",e.email),c("disabled",e.isLoading()),s(4),u("ngModel",e.password),c("disabled",e.isLoading()),s(4),u("ngModel",e.confirmPassword),c("disabled",e.isLoading()),s(),c("disabled",e.isLoading()),s(),h(e.isLoading()?27:28))},dependencies:[v,z,T,N,k,V,A,D,W,E],styles:[".signup-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.signup-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;width:100%;max-width:400px;box-shadow:0 10px 40px #0000001a}.signup-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:28px;font-weight:600}.signup-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:14px}.signup-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:12px;border-radius:6px;margin-bottom:20px;font-size:14px;border:1px solid #fcc}.signup-card[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{background:#efe;color:#3c3;padding:12px;border-radius:6px;margin-bottom:20px;font-size:14px;border:1px solid #cfc}.signup-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.signup-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.signup-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;transition:border-color .3s}.signup-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.signup-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.signup-card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}.signup-card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.signup-card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.signup-card[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{margin-top:24px;text-align:center}.signup-card[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.signup-card[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.signup-card[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{R as SignupComponent};
